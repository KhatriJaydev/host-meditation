{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common\";\nconst _c0 = [\"music\"];\nfunction MusicPlayerComponent_span_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 20);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(1, \"svg\", 21);\n    i0.ɵɵelement(2, \"rect\", 22)(3, \"path\", 23);\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction MusicPlayerComponent_span_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 24);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(1, \"svg\", 21);\n    i0.ɵɵelement(2, \"rect\", 22)(3, \"path\", 25);\n    i0.ɵɵelementEnd()();\n  }\n}\nexport let MusicPlayerComponent = /*#__PURE__*/(() => {\n  class MusicPlayerComponent {\n    constructor(router, route) {\n      this.router = router;\n      this.route = route;\n      this.minutes = 0;\n      this.seconds = 0;\n      this.getMinutes = 0;\n      this.getSeconds = 10;\n      this.isPlaying = false;\n      this.audioLink = '../../../assets/music/music.mp3';\n      this.c1StrokeDasharray = '100 0';\n      this.c2StrokeDasharray = '0 100';\n      this.c1StrokeDashoffset = '0';\n      this.strokeLinecap = '';\n      this.i = 1;\n      this.totalDuration = this.getMinutes * 60 + this.getSeconds;\n      this.route.paramMap.subscribe(params => {\n        let problemType = params.get('problemTitle');\n        let sessionType = params.get('sessionType');\n        this.problemTitle = problemType;\n        this.modelTitle = sessionType;\n      });\n    }\n    closeSessionModal() {\n      this.stopTimer();\n      this.router.navigate(['tabs', 'dashboard', 'recommended-detail', this.problemTitle]);\n    }\n    startTimer() {\n      this.music?.nativeElement.play();\n      const c1 = document.getElementById('c1');\n      const c2 = document.getElementById('c2');\n      if (c1 && c2) {\n        c1.classList.remove('no-transition');\n        c2.classList.remove('no-transition');\n        this.timer = setInterval(() => {\n          // Timer logic\n          const elapsedSeconds = this.minutes * 60 + this.seconds;\n          console.log(`Elapsed Seconds: ${elapsedSeconds}`);\n          if (elapsedSeconds === this.totalDuration || this.i > this.totalDuration) {\n            // Timer completed, reset timer variables\n            this.i = 1;\n            this.minutes = 0;\n            this.seconds = 0;\n            this.stopTimer();\n            // Reset SVG animation to initial values\n            c1.style.strokeDasharray = '100 0';\n            c2.style.strokeDasharray = '0 100';\n            c1.style.strokeDashoffset = '0';\n            c1.classList.add('no-transition');\n            c2.classList.add('no-transition');\n            this.strokeLinecap = '';\n            console.log('Timer completed and reset.');\n          } else {\n            if (this.seconds === 59) {\n              this.minutes++;\n              this.seconds = 0;\n            } else {\n              this.strokeLinecap = 'round';\n              this.seconds++;\n            }\n            // SVG animation logic\n            const k = this.i / this.totalDuration * 100;\n            const l = 100 - k;\n            this.c1StrokeDasharray = `${l} ${k}`;\n            this.c2StrokeDasharray = `${k} ${l}`;\n            this.c1StrokeDashoffset = `${l}`;\n            this.i++;\n            console.log(`Timer running: ${this.minutes}:${this.seconds}`);\n          }\n        }, 1000);\n      }\n      this.isPlaying = true;\n      console.log('Timer started.');\n    }\n    stopTimer() {\n      this.music?.nativeElement.pause();\n      clearInterval(this.timer);\n      this.isPlaying = false;\n    }\n    formatTime(time) {\n      return time < 10 ? `0${time}` : `${time}`;\n    }\n    static #_ = this.ɵfac = function MusicPlayerComponent_Factory(t) {\n      return new (t || MusicPlayerComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i1.ActivatedRoute));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: MusicPlayerComponent,\n      selectors: [[\"app-music-player\"]],\n      viewQuery: function MusicPlayerComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuery(_c0, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.music = _t.first);\n        }\n      },\n      decls: 23,\n      vars: 14,\n      consts: [[1, \"sessions-modal-main\"], [1, \"sessions-modal-content\"], [1, \"header\"], [\"type\", \"button\", 3, \"click\"], [\"width\", \"28\", \"height\", \"28\", \"viewBox\", \"0 0 28 28\", \"fill\", \"none\", \"xmlns\", \"http://www.w3.org/2000/svg\"], [\"opacity\", \"0.01\", \"width\", \"28\", \"height\", \"28\", \"fill\", \"white\"], [\"fill-rule\", \"evenodd\", \"clip-rule\", \"evenodd\", \"d\", \"M10.1737 22C9.93061 21.9997 9.69599 21.9108 9.51368 21.7501L2.51368 15.6331C2.04076 15.2205 1.8749 14.5572 2.098 13.9708C2.3211 13.3843 2.88597 12.9987 3.51368 13.0044H25.0037C25.556 13.0044 26.0037 13.4519 26.0037 14.0039C26.0037 14.5559 25.556 15.0034 25.0037 15.0034H4.83368L10.8337 20.2509C11.1454 20.5256 11.2546 20.9645 11.1079 21.3532C10.9612 21.7419 10.5893 21.9994 10.1737 22ZM6.83368 11.2553L10.8337 7.75697C11.1034 7.52129 11.2269 7.15968 11.1575 6.80835C11.0882 6.45703 10.8366 6.16937 10.4975 6.05372C10.1585 5.93808 9.78342 6.01202 9.51368 6.2477L5.51368 9.74599C5.24395 9.98167 5.1205 10.3433 5.18983 10.6946C5.25917 11.0459 5.51076 11.3336 5.84983 11.4492C6.1889 11.5649 6.56395 11.4909 6.83368 11.2553Z\", \"fill\", \"#3A3B3B\"], [1, \"model-content\"], [1, \"model-title\"], [1, \"play-pause-type\"], [1, \"play-pause-button\", 3, \"click\"], [\"class\", \"play\", 4, \"ngIf\"], [\"class\", \"pause\", 4, \"ngIf\"], [1, \"progress-svg\"], [\"width\", \"200px\", \"height\", \"200px\", \"viewBox\", \"0 0 42 42\", 1, \"donut\"], [\"id\", \"c1\", \"cx\", \"21\", \"cy\", \"21\", \"r\", \"15.91549430918954\"], [\"id\", \"c2\", \"cx\", \"21\", \"cy\", \"21\", \"r\", \"15.91549430918954\", \"stroke-dashoffset\", \"0\"], [\"id\", \"music\", 3, \"src\"], [\"music\", \"\"], [1, \"model-timer\"], [1, \"play\"], [\"width\", \"48\", \"height\", \"48\", \"viewBox\", \"0 0 48 48\", \"fill\", \"none\", \"xmlns\", \"http://www.w3.org/2000/svg\"], [\"opacity\", \"0.01\", \"width\", \"48\", \"height\", \"48\", \"fill\", \"white\"], [\"fill-rule\", \"evenodd\", \"clip-rule\", \"evenodd\", \"d\", \"M9.78998 44C8.8014 44 8 43.2052 8 42.2247V9.32919C7.99877 7.42587 9.02179 5.66656 10.6835 4.71437C12.3452 3.76218 14.3929 3.76186 16.0549 4.71352L39.3246 18.0812C40.9806 19.034 42 20.7892 42 22.688C42 24.5868 40.9806 26.342 39.3246 27.2948L17.8449 39.7216C17.29 40.0715 16.5864 40.0914 16.0123 39.7736C15.4381 39.4558 15.0859 38.8515 15.0948 38.1994C15.1037 37.5474 15.4723 36.9527 16.0549 36.6504L37.5346 24.2236C38.0866 23.906 38.4264 23.321 38.4264 22.688C38.4264 22.0551 38.0866 21.47 37.5346 21.1524L14.2649 7.78472C13.71 7.46696 13.0261 7.46763 12.4718 7.78647C11.9176 8.10532 11.5774 8.69369 11.5799 9.32919V42.2247C11.5799 43.2052 10.7786 44 9.78998 44Z\", \"fill\", \"white\"], [1, \"pause\"], [\"fill-rule\", \"evenodd\", \"clip-rule\", \"evenodd\", \"d\", \"M19 46H17.1667C16.1541 46 15.3333 45.1792 15.3333 44.1667C15.3333 43.1541 16.1541 42.3333 17.1667 42.3333V5.66667H11.6667V44.1667C11.6667 45.1792 10.8459 46 9.83333 46C8.82081 46 8 45.1792 8 44.1667V3.83333C8 2.82081 8.82081 2 9.83333 2H19C20.0125 2 20.8333 2.82081 20.8333 3.83333V44.1667C20.8333 45.1792 20.0125 46 19 46ZM41 44.1667V3.83333C41 2.82081 40.1792 2 39.1667 2C38.1541 2 37.3333 2.82081 37.3333 3.83333V42.3333H31.8333V5.66667C32.8459 5.66667 33.6667 4.84586 33.6667 3.83333C33.6667 2.82081 32.8459 2 31.8333 2H30C28.9875 2 28.1667 2.82081 28.1667 3.83333V44.1667C28.1667 45.1792 28.9875 46 30 46H39.1667C40.1792 46 41 45.1792 41 44.1667Z\", \"fill\", \"white\"]],\n      template: function MusicPlayerComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"header\", 2)(3, \"button\", 3);\n          i0.ɵɵlistener(\"click\", function MusicPlayerComponent_Template_button_click_3_listener() {\n            return ctx.closeSessionModal();\n          });\n          i0.ɵɵnamespaceSVG();\n          i0.ɵɵelementStart(4, \"svg\", 4);\n          i0.ɵɵelement(5, \"rect\", 5)(6, \"path\", 6);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵnamespaceHTML();\n          i0.ɵɵelementStart(7, \"section\")(8, \"div\", 7)(9, \"div\", 8);\n          i0.ɵɵtext(10);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"div\", 9)(12, \"div\", 10);\n          i0.ɵɵlistener(\"click\", function MusicPlayerComponent_Template_div_click_12_listener() {\n            return ctx.isPlaying ? ctx.stopTimer() : ctx.startTimer();\n          });\n          i0.ɵɵtemplate(13, MusicPlayerComponent_span_13_Template, 4, 0, \"span\", 11);\n          i0.ɵɵtemplate(14, MusicPlayerComponent_span_14_Template, 4, 0, \"span\", 12);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"div\", 13);\n          i0.ɵɵnamespaceSVG();\n          i0.ɵɵelementStart(16, \"svg\", 14);\n          i0.ɵɵelement(17, \"circle\", 15)(18, \"circle\", 16);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵnamespaceHTML();\n          i0.ɵɵelement(19, \"audio\", 17, 18);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(21, \"div\", 19);\n          i0.ɵɵtext(22);\n          i0.ɵɵelementEnd()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(10);\n          i0.ɵɵtextInterpolate(ctx.modelTitle);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", !ctx.isPlaying);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.isPlaying);\n          i0.ɵɵadvance(3);\n          i0.ɵɵstyleProp(\"stroke-dasharray\", ctx.c1StrokeDasharray)(\"stroke-dashoffset\", ctx.c1StrokeDashoffset);\n          i0.ɵɵattribute(\"stroke-linecap\", ctx.strokeLinecap);\n          i0.ɵɵadvance(1);\n          i0.ɵɵstyleProp(\"stroke-dasharray\", ctx.c2StrokeDasharray);\n          i0.ɵɵattribute(\"stroke-linecap\", ctx.strokeLinecap);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"src\", ctx.audioLink, i0.ɵɵsanitizeUrl);\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate2(\"\", ctx.formatTime(ctx.minutes), \" : \", ctx.formatTime(ctx.seconds), \"\");\n        }\n      },\n      dependencies: [i2.NgIf],\n      styles: [\".sessions-modal-main[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;z-index:1000;display:flex}.sessions-modal-content[_ngcontent-%COMP%]{background-color:#fff;width:100%;height:100%;box-shadow:none;animation:_ngcontent-%COMP%_fadeInUp .4s ease forwards;transform:translateY(100%);overflow:auto;position:relative}.sessions-modal-content[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{padding:16px 12px 10px;display:flex;justify-content:flex-start}.sessions-modal-content[_ngcontent-%COMP%]   .model-content[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:flex;flex-direction:column;gap:60px}.sessions-modal-content[_ngcontent-%COMP%]   .model-content[_ngcontent-%COMP%]   .model-title[_ngcontent-%COMP%]{color:#1a202c;font-size:22px;font-weight:700;line-height:29px;letter-spacing:0px;text-align:center}.sessions-modal-content[_ngcontent-%COMP%]   .model-content[_ngcontent-%COMP%]   .model-timer[_ngcontent-%COMP%]{font-size:17px;font-weight:400;line-height:23px;letter-spacing:0px;text-align:center}.sessions-modal-content[_ngcontent-%COMP%]   .model-content[_ngcontent-%COMP%]   .play-pause-button[_ngcontent-%COMP%]{background:rgb(58,59,59);width:116px;height:116px;border-radius:100%;margin:0 auto;display:flex;justify-content:center;align-items:center}.sessions-modal-content[_ngcontent-%COMP%]   .model-content[_ngcontent-%COMP%]   .play-pause-type[_ngcontent-%COMP%]{position:relative}.sessions-modal-content[_ngcontent-%COMP%]   .model-content[_ngcontent-%COMP%]   .play-pause-type[_ngcontent-%COMP%]   .progress-svg[_ngcontent-%COMP%]{z-index:-2;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.recommended-stress-cards[_ngcontent-%COMP%]:nth-child(1){background:rgb(247,242,231)}@keyframes _ngcontent-%COMP%_fadeInUp{0%{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}.progress-svg[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transform:rotate(-90deg)}.progress-svg[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{transition:all 1s linear}.progress-svg[_ngcontent-%COMP%]   #c1[_ngcontent-%COMP%]{transition:all 1s linear;stroke-width:1;fill:transparent}.progress-svg[_ngcontent-%COMP%]   #c2[_ngcontent-%COMP%]{transition:all 1s linear;stroke:#3a3b3b;stroke-width:1;fill:transparent}.no-transition[_ngcontent-%COMP%]{transition:none!important}\"]\n    });\n  }\n  return MusicPlayerComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}